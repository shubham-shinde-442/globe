<!DOCTYPE html>
<nav class="flex justify-between px-20 py-8 items-center bg-white shadow-bottom">
    <h1 class="text-xl text-black-900 font-bold">Where in the world?</h1>
    <div class="flex items-center"></div>
</nav>

<div class="bar flex justify-between">
    <div class="flex items-center search">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-600 icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <input class="ml-2 outline-none bg-transparent" type="text" name="search" id="search" placeholder="Search..." [(ngModel)]="searchTerm" (ngModelChange)="filterData()" />
    </div>

    <div class="dropdown">
        <button class="btn dropdown-toggle custom-dropdown-button" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Filter by region
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" (click)="filterByRegion('Africa')">Africa</a>
            <a class="dropdown-item" (click)="filterByRegion('Americas')">America</a>
            <a class="dropdown-item" (click)="filterByRegion('Asia')">Asia</a>
            <a class="dropdown-item" (click)="filterByRegion('Europe')">Europe</a>
            <a class="dropdown-item" (click)="filterByRegion('Oceania')">Oceania</a>
        </div>
    </div>
</div>

<div class="grid-container">
    @for (user of filteredData; track user.name) {
    <div class="card" (click)="viewDetails(user.alpha3Code)">
        <img [src]="user.flags.png" alt="Flag of {{ user.name }}" />
        <div class="card-body">
            <h5 class="card-title">{{ user.name }}</h5>
            <br />
            <p class="bodys">
                <span class="label">Population: </span>
                <span class="value">{{ user.population }}</span>
            </p>
            <p class="bodys">
                <span class="label">Region: </span>
                <span class="value">{{ user.region }}</span>
            </p>
            <p class="bodys">
                <span class="label">Capital: </span>
                <span class="value">{{ user.capital }}</span>
            </p>
        </div>
    </div>
    }
</div>
